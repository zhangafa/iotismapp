{"version":3,"sources":["webpack:////Users/proudsmart/Documents/HBuilderProjects/IOTISM-APP/components/form-componets.vue?71c2","webpack:////Users/proudsmart/Documents/HBuilderProjects/IOTISM-APP/components/form-componets.vue?f4a9","webpack:////Users/proudsmart/Documents/HBuilderProjects/IOTISM-APP/components/form-componets.vue?ebf8","webpack:////Users/proudsmart/Documents/HBuilderProjects/IOTISM-APP/components/form-componets.vue?c1f6","webpack:////Users/proudsmart/Documents/HBuilderProjects/IOTISM-APP/components/form-componets.vue"],"names":["graceChecker","require","name","components","robbyImageUpload","xflSelect","props","list","Array","showBtn","Boolean","model","prop","event","data","customerList","bomPartsList","departmentList","bomMasterList","formRule","relationDic","enableDel","enableAdd","enableDrag","limitNumber","imageData","serverUrl","http","config","baseUrl","formData","resourceId","type","encodeURIComponent","header","cookie","listBoxStyle","modalName","computed","attributeList","methods","checkString","pickerChange","e","dataindex","currentTarget","dataset","index","forEach","item","label","rangeObj","rangeAry","Number","detail","value","selectLabel","relation","relationAry","split","isRelation","$forceUpdate","textChange","xflSelectChange","newVal","oldVal","orignItem","console","log","xflSelectSearch","etlId","params","code","typeValue","executeJob","then","res","listdata","JSON","parse","cancelClick","uni","navigateBack","delta","saveClick","checkObj","required","push","checkType","checkRule","errorMsg","checkRes","check","tmp","values","$emit","showToast","title","error","icon","Promise","resolve","reject","$api","ListTouchStart","listTouchStart","touches","pageX","ListTouchMove","listTouchDirection","ListTouchEnd","target"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAA6F;AAC3B;AACL;;;AAG7D;AACuK;AACvK,gBAAgB,4KAAU;AAC1B,EAAE,oFAAM;AACR,EAAE,yFAAM;AACR,EAAE,kGAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEA;AACA,IAAI,KAAU,EAAE,YAiBf;AACD;AACe,gF;;;;;;;;;;;;ACtCf;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACNA;AAAA;AAAA;AAAA;AAA48B,CAAgB,u6BAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACkKh+B;;AAEA,oE;AACA,IAAIA,YAAY,GAAGC,mBAAO,CAAC,wCAAD,CAA1B,C;AACe;AACdC,MAAI,EAAE,eADQ;AAEdC,YAAU,EAAE;AACXC,oBAAgB,EAAhBA,gBADW;AAEXC,aAAS,EAATA,SAFW,EAFE;;AAMdC,OAAK,EAAE;AACNC,QAAI,EAAEC,KADA;AAENC,WAAO,EAAEC,OAFH,EANO;;AAUdC,OAAK,EAAE;AACNC,QAAI,EAAE,OADA;AAENC,SAAK,EAAE,OAFD,EAVO;;AAcdC,MAdc,kBAcP;AACN,WAAO;AACNC,kBAAY,EAAE,EADR;AAENC,kBAAY,EAAE,EAFR;AAGNC,oBAAc,EAAE,EAHV;AAINC,mBAAa,EAAE,EAJT;AAKNC,cAAQ,EAAE,EALJ;AAMNC,iBAAW,EAAE,EANP;AAONC,eAAS,EAAE,IAPL;AAQNC,eAAS,EAAE,IARL;AASNC,gBAAU,EAAE,KATN;AAUNC,iBAAW,EAAE,CAVP;AAWNC,eAAS,EAAE,EAXL;AAYNC,eAAS,EAAEC,mBAAKC,MAAL,CAAYC,OAAZ,GAAsB,0DAZ3B;AAaNC,cAAQ,EAAE;AACTC,kBAAU,EAAE,GADH;AAETC,YAAI,EAAEC,kBAAkB,CAAC,QAAD,CAFf,EAbJ;;AAiBNC,YAAM,EAAE;AACPC,cAAM,EAAER,mBAAKC,MAAL,CAAYM,MAAZ,CAAmBC,MADpB,EAjBF;;AAoBNC,kBAAY,kCApBN;AAqBNC,eAAS,EAAE,IArBL,EAAP;;AAuBA,GAtCa;AAuCdC,UAAQ,EAAE;AACTC,iBADS,2BACO;AACf,aAAO,KAAKhC,IAAZ;AACA,KAHQ,EAvCI;;AA4CdiC,SAAO,EAAE;AACRC,eAAW,EAAXA,kBADQ;AAERC,gBAFQ,wBAEKC,CAFL,EAEQ;AACf,UAAIC,SAAS,GAAGD,CAAC,CAACE,aAAF,CAAgBC,OAAhB,CAAwBC,KAAxC;AACA,WAAKR,aAAL,CAAmBS,OAAnB,CAA2B,UAAAC,IAAI,EAAI;AAClC,YAAIA,IAAI,CAACC,KAAL,IAAcN,SAAlB,EAA6B;AAC5B,cAAIO,QAAQ,GAAGF,IAAI,CAACG,QAAL,CAAcC,MAAM,CAACV,CAAC,CAACW,MAAF,CAASC,KAAV,CAApB,CAAf;AACAN,cAAI,CAACO,WAAL,GAAmBL,QAAQ,CAACD,KAA5B,CAF4B,CAEO;AACnCD,cAAI,CAACA,IAAI,CAACC,KAAN,CAAJ,GAAmBC,QAAQ,CAACI,KAAT,IAAkBJ,QAAQ,CAACD,KAA9C,CAH4B,CAGyB;AACrD,eAAI,CAAC9B,WAAL,CAAiB6B,IAAI,CAACC,KAAtB,IAA+BD,IAAI,CAACA,IAAI,CAACC,KAAN,CAAnC;AACA;AACD;AACA,YAAID,IAAI,CAACQ,QAAT,EAAmB;AAClB,cAAIC,WAAW,GAAGT,IAAI,CAACQ,QAAL,CAAcE,KAAd,CAAoB,GAApB,CAAlB;AACA,cAAI,KAAI,CAACvC,WAAL,CAAiBsC,WAAW,CAAC,CAAD,CAA5B,KAAoCA,WAAW,CAAC,CAAD,CAAnD,EAAwD;AACvDT,gBAAI,CAACW,UAAL,GAAkB,IAAlB;AACA,WAFD,MAEO,IAAIX,IAAI,CAACC,KAAL,IAAcQ,WAAW,CAAC,CAAD,CAA7B,EAAkC;AACxCT,gBAAI,CAACW,UAAL,GAAkB,KAAlB;AACA;AACD;AACD,OAhBD;AAiBA,WAAKC,YAAL;AACA,KAtBO;AAuBRC,cAvBQ,sBAuBGnB,CAvBH,EAuBM;AACb,UAAIC,SAAS,GAAGD,CAAC,CAACE,aAAF,CAAgBC,OAAhB,CAAwBC,KAAxC;AACA,UAAIQ,KAAK,GAAGZ,CAAC,CAACW,MAAF,CAASC,KAArB;AACA,WAAKnC,WAAL,CAAiBwB,SAAjB,IAA8BW,KAA9B;AACA,KA3BO;AA4BRQ,mBA5BQ,iCA4B2C,KAAlCC,MAAkC,QAAlCA,MAAkC,CAA1BC,MAA0B,QAA1BA,MAA0B,CAAlBlB,KAAkB,QAAlBA,KAAkB,CAAXmB,SAAW,QAAXA,SAAW;AAClDC,aAAO,CAACC,GAAR,CAAYJ,MAAZ,EAAoBC,MAApB,EAA4BlB,KAA5B,EAAmCmB,SAAnC;AACA,KA9BO;AA+BRG,mBA/BQ,2BA+BQ1B,CA/BR,EA+BW;AAClB,UAAI2B,KAAK,GAAG3B,CAAC,CAACE,aAAF,CAAgBC,OAAhB,CAAwBC,KAApC;AACA,UAAIwB,MAAM,GAAG,EAAb;AACA,UAAID,KAAK,IAAI,iBAAb,EAAgC,CAAE;AACjC,YAAI,KAAK7B,WAAL,CAAiBE,CAAC,CAACW,MAAF,CAASC,KAA1B,EAAgC,CAAhC,CAAJ,EAAwC;AACvCgB,gBAAM,CAACrE,IAAP,GAAcyC,CAAC,CAACW,MAAF,CAASC,KAAvB;AACA,SAFD,MAEO;AACNgB,gBAAM,CAACC,IAAP,GAAc7B,CAAC,CAACW,MAAF,CAASC,KAAvB;AACAgB,gBAAM,CAACrE,IAAP,GAAcyC,CAAC,CAACW,MAAF,CAASC,KAAvB;AACA;AACD,OAPD,MAOO,IAAIe,KAAK,IAAI,iBAAb,EAAgC,CAAE;AACxCC,cAAM,CAACC,IAAP,GAAc7B,CAAC,CAACW,MAAF,CAASC,KAAvB;AACA,OAFM,MAEA,IAAIe,KAAK,IAAI,iBAAb,EAAgC,CAAE;AACxCC,cAAM,CAACvC,IAAP,GAAc,MAAd;AACAuC,cAAM,CAACC,IAAP,GAAc,EAAd;AACAD,cAAM,CAACE,SAAP,GAAmB9B,CAAC,CAACW,MAAF,CAASC,KAA5B;AACA,OAJM,MAIA,IAAIe,KAAK,IAAI,iBAAb,EAAgC,CAAE;AACxCC,cAAM,CAACrE,IAAP,GAAcyC,CAAC,CAACW,MAAF,CAASC,KAAvB;AACA;AACD,WAAKmB,UAAL,CAAgB,CAACJ,KAAD,EAAOC,MAAP,CAAhB,EAAgCI,IAAhC,CAAqC,UAAAC,GAAG,EAAI;AAC3C,YAAIC,QAAQ,GAAGC,IAAI,CAACC,KAAL,CAAWH,GAAX,CAAf;AACA,YAAIN,KAAK,IAAI,iBAAb,EAAgC;AAC/B,gBAAI,CAACvD,YAAL,GAAoB8D,QAApB;AACA,SAFD,MAEO,IAAIP,KAAK,IAAI,iBAAb,EAAgC;AACtC,gBAAI,CAACpD,aAAL,GAAqB2D,QAArB;AACA,SAFM,MAEA,IAAIP,KAAK,IAAI,iBAAb,EAAgC;AACtC,gBAAI,CAACtD,YAAL,GAAoB6D,QAApB;AACA,SAFM,MAEA,IAAIP,KAAK,IAAI,iBAAb,EAAgC;AACtC,gBAAI,CAACrD,cAAL,GAAsB4D,QAAtB;AACA;AACD,OAXD;AAYA,KA9DO;AA+DRG,eA/DQ,yBA+DM;AACbC,SAAG,CAACC,YAAJ,CAAiB;AAChBC,aAAK,EAAE,CADS,EAAjB;;AAGA,KAnEO;AAoERC,aApEQ,uBAoEI;AACX,UAAIC,QAAQ,GAAG,EAAf;AACA,WAAK9C,aAAL,CAAmBS,OAAnB,CAA2B,UAAAC,IAAI,EAAI;AAClCoC,gBAAQ,CAACpC,IAAI,CAACC,KAAN,CAAR,GAAuB,MAAI,CAAC9B,WAAL,CAAiB6B,IAAI,CAACC,KAAtB,CAAvB;AACA,YAAID,IAAI,CAACqC,QAAL,IAAiB,KAAjB,KAA2B,CAACrC,IAAI,CAACQ,QAAN,IAAmBR,IAAI,CAACQ,QAAL,IAAiBR,IAAI,CAACW,UAApE,CAAJ,EAAsF;AACrF,gBAAI,CAACzC,QAAL,CAAcoE,IAAd,CAAmB;AAClBrF,gBAAI,EAAE+C,IAAI,CAACC,KADO;AAElBsC,qBAAS,EAAE,SAFO;AAGlBC,qBAAS,EAAE,EAHO;AAIlBC,oBAAQ,EAAE,QAAQzC,IAAI,CAAC/C,IAJL,EAAnB;;AAMA;AACD,OAVD;;AAYA,UAAIyF,QAAQ,GAAG3F,YAAY,CAAC4F,KAAb,CAAmBP,QAAnB,EAA6B,KAAKlE,QAAlC,CAAf;AACA,UAAIwE,QAAJ,EAAc;AACb,YAAIE,GAAG,GAAG;AACTC,gBAAM,EAAE,KAAK1E,WADJ,EAAV;;AAGA,aAAK2E,KAAL,CAAW,MAAX,EAAmBF,GAAnB;AACA,OALD,MAKO;AACNZ,WAAG,CAACe,SAAJ,CAAc;AACbC,eAAK,EAAEjG,YAAY,CAACkG,KADP;AAEbC,cAAI,EAAE,MAFO,EAAd;;AAIA;AACD,KA9FO;AA+FRzB,cA/FQ,sBA+FGH,MA/FH,EA+FW;AAClB;AACA,aAAO,IAAI6B,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACvC,cAAI,CAACC,IAAL,CAAU7B,UAAV,CAAqBH,MAArB,EAA6BI,IAA7B,CAAkC,UAAAC,GAAG,EAAI;AACxCyB,iBAAO,CAACzB,GAAG,CAAC9D,IAAL,CAAP;AACA,SAFD;AAGA,OAJM,CAAP;AAKA,KAtGO;AAuGR;AACA0F,kBAxGQ,0BAwGO7D,CAxGP,EAwGU;AACjB,WAAK8D,cAAL,GAAsB9D,CAAC,CAAC+D,OAAF,CAAU,CAAV,EAAaC,KAAnC;AACA,KA1GO;;AA4GR;AACAC,iBA7GQ,yBA6GMjE,CA7GN,EA6GS;AAChB,WAAKkE,kBAAL,GAA0BlE,CAAC,CAAC+D,OAAF,CAAU,CAAV,EAAaC,KAAb,GAAqB,KAAKF,cAA1B,GAA2C,CAA3C,GAA+C,OAA/C,GAAyD,MAAnF;AACA,KA/GO;;AAiHR;AACAK,gBAlHQ,wBAkHKnE,CAlHL,EAkHQ;AACf,UAAI,KAAKkE,kBAAL,IAA2B,MAA/B,EAAuC;AACtC,aAAKxE,SAAL,GAAiBM,CAAC,CAACE,aAAF,CAAgBC,OAAhB,CAAwBiE,MAAzC;AACA,OAFD,MAEO;AACN,aAAK1E,SAAL,GAAiB,IAAjB;AACA;AACD,WAAKwE,kBAAL,GAA0B,IAA1B;AACA,KAzHO,EA5CK,E","file":"components/form-componets.js","sourcesContent":["import { render, staticRenderFns } from \"./form-componets.vue?vue&type=template&id=a9f8c504&\"\nimport script from \"./form-componets.vue?vue&type=script&lang=js&\"\nexport * from \"./form-componets.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('a9f8c504', component.options)\n    } else {\n      api.reload('a9f8c504', component.options)\n    }\n    module.hot.accept(\"./form-componets.vue?vue&type=template&id=a9f8c504&\", function () {\n      api.rerender('a9f8c504', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"Users/proudsmart/Documents/HBuilderProjects/IOTISM-APP/components/form-componets.vue\"\nexport default component.exports","export * from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-hbuilderx/packages/webpack-uni-nvue-loader/lib/templateLoader.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./form-componets.vue?vue&type=template&id=a9f8c504&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./form-componets.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./form-componets.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport robbyImageUpload from '@/components/robby-image-upload/robby-image-upload.vue';\nimport http from '@/common/vmeitime-http/interface.js';\nimport xflSelect from '@/components/xfl-select/xfl-select.vue';\nimport { checkString } from '@/common/utils/index.js';\nvar graceChecker = require('@/common/utils/graceChecker.js');\nexport default {\n\tname: 'FormComponets',\n\tcomponents: {\n\t\trobbyImageUpload,\n\t\txflSelect\n\t},\n\tprops: {\n\t\tlist: Array,\n\t\tshowBtn: Boolean\n\t},\n\tmodel: {\n\t\tprop: 'value',\n\t\tevent: 'input'\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tcustomerList: [],\n\t\t\tbomPartsList: [],\n\t\t\tdepartmentList: [],\n\t\t\tbomMasterList: [],\n\t\t\tformRule: [],\n\t\t\trelationDic: {},\n\t\t\tenableDel: true,\n\t\t\tenableAdd: true,\n\t\t\tenableDrag: false,\n\t\t\tlimitNumber: 8,\n\t\t\timageData: [],\n\t\t\tserverUrl: http.config.baseUrl + 'api/rest/upload/resourceFileUIService/uploadResourceFile',\n\t\t\tformData: {\n\t\t\t\tresourceId: 100,\n\t\t\t\ttype: encodeURIComponent('ticket')\n\t\t\t},\n\t\t\theader: {\n\t\t\t\tcookie: http.config.header.cookie\n\t\t\t},\n\t\t\tlistBoxStyle: `height: 30px; font-size: 12px;`,\n\t\t\tmodalName: null,\n\t\t};\n\t},\n\tcomputed: {\n\t\tattributeList() {\n\t\t\treturn this.list;\n\t\t}\n\t},\n\tmethods: {\n\t\tcheckString,\n\t\tpickerChange(e) {\n\t\t\tlet dataindex = e.currentTarget.dataset.index;\n\t\t\tthis.attributeList.forEach(item => {\n\t\t\t\tif (item.label == dataindex) {\n\t\t\t\t\tlet rangeObj = item.rangeAry[Number(e.detail.value)];\n\t\t\t\t\titem.selectLabel = rangeObj.label; //设置到显示\n\t\t\t\t\titem[item.label] = rangeObj.value || rangeObj.label; //设置value到key\n\t\t\t\t\tthis.relationDic[item.label] = item[item.label];\n\t\t\t\t}\n\t\t\t\t//查看是否有选中的指标\n\t\t\t\tif (item.relation) {\n\t\t\t\t\tlet relationAry = item.relation.split(':');\n\t\t\t\t\tif (this.relationDic[relationAry[0]] == relationAry[1]) {\n\t\t\t\t\t\titem.isRelation = true;\n\t\t\t\t\t} else if (item.label != relationAry[0]) {\n\t\t\t\t\t\titem.isRelation = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.$forceUpdate();\n\t\t},\n\t\ttextChange(e) {\n\t\t\tlet dataindex = e.currentTarget.dataset.index;\n\t\t\tlet value = e.detail.value;\n\t\t\tthis.relationDic[dataindex] = value;\n\t\t},\n\t\txflSelectChange({newVal, oldVal, index, orignItem}){\n\t\t\tconsole.log(newVal, oldVal, index, orignItem);\n\t\t},\n\t\txflSelectSearch(e) {\n\t\t\tlet etlId = e.currentTarget.dataset.index;\n\t\t\tlet params = {}\n\t\t\tif (etlId == \"351692822650000\") { //查询客户\n\t\t\t\tif (this.checkString(e.detail.value,0)) {\n\t\t\t\t\tparams.name = e.detail.value\n\t\t\t\t} else {\n\t\t\t\t\tparams.code = e.detail.value\n\t\t\t\t\tparams.name = e.detail.value\n\t\t\t\t}\n\t\t\t} else if (etlId == \"444861596508689\") { //查询机型\n\t\t\t\tparams.code = e.detail.value\n\t\t\t} else if (etlId == \"318300627950000\") { //查询备件\n\t\t\t\tparams.type = \"Code\"\n\t\t\t\tparams.code = ''\n\t\t\t\tparams.typeValue = e.detail.value\n\t\t\t} else if (etlId == \"444861596508690\") { //查询部门\n\t\t\t\tparams.name = e.detail.value\n\t\t\t}\n\t\t\tthis.executeJob([etlId,params]).then(res => {\n\t\t\t\tlet listdata = JSON.parse(res)\n\t\t\t\tif (etlId == \"351692822650000\") {\n\t\t\t\t\tthis.customerList = listdata\n\t\t\t\t} else if (etlId == \"444861596508689\") {\n\t\t\t\t\tthis.bomMasterList = listdata\n\t\t\t\t} else if (etlId == \"318300627950000\") {\n\t\t\t\t\tthis.bomPartsList = listdata\n\t\t\t\t} else if (etlId == \"444861596508690\") {\n\t\t\t\t\tthis.departmentList = listdata\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\tcancelClick() {\n\t\t\tuni.navigateBack({\n\t\t\t\tdelta: 1\n\t\t\t});\n\t\t},\n\t\tsaveClick() {\n\t\t\tlet checkObj = {};\n\t\t\tthis.attributeList.forEach(item => {\n\t\t\t\tcheckObj[item.label] = this.relationDic[item.label];\n\t\t\t\tif (item.required == 'yes' && (!item.relation || (item.relation && item.isRelation))) {\n\t\t\t\t\tthis.formRule.push({\n\t\t\t\t\t\tname: item.label,\n\t\t\t\t\t\tcheckType: 'notnull',\n\t\t\t\t\t\tcheckRule: '',\n\t\t\t\t\t\terrorMsg: '请选择' + item.name\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tlet checkRes = graceChecker.check(checkObj, this.formRule);\n\t\t\tif (checkRes) {\n\t\t\t\tlet tmp = {\n\t\t\t\t\tvalues: this.relationDic\n\t\t\t\t};\n\t\t\t\tthis.$emit('save', tmp);\n\t\t\t} else {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: graceChecker.error,\n\t\t\t\t\ticon: 'none'\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\texecuteJob(params) {\n\t\t\t//获得ERP里的返回内容接口\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tthis.$api.executeJob(params).then(res => {\n\t\t\t\t\tresolve(res.data)\n\t\t\t\t})\n\t\t\t})\n\t\t},\n\t\t// ListTouch触摸开始\n\t\tListTouchStart(e) {\n\t\t\tthis.listTouchStart = e.touches[0].pageX\n\t\t},\n\t\t\n\t\t// ListTouch计算方向\n\t\tListTouchMove(e) {\n\t\t\tthis.listTouchDirection = e.touches[0].pageX - this.listTouchStart > 0 ? 'right' : 'left'\n\t\t},\n\t\t\n\t\t// ListTouch计算滚动\n\t\tListTouchEnd(e) {\n\t\t\tif (this.listTouchDirection == 'left') {\n\t\t\t\tthis.modalName = e.currentTarget.dataset.target\n\t\t\t} else {\n\t\t\t\tthis.modalName = null\n\t\t\t}\n\t\t\tthis.listTouchDirection = null\n\t\t}\n\t}\n};\n"],"sourceRoot":""}